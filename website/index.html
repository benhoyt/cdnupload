<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>cdnupload - Upload static files to directory or CDN, using content-based hashing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Upload static files from a source directory to a destination directory or Amazon S3 bucket, with content-based hash in filenames for versioning">
    <meta name="keywords" content="cdnupload, cdn, upload, python, s3, amazon s3, content-based hashing, hash">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,300,600" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="static/main.css">
    <link rel="shortcut icon" type="image/png" href="static/favicon.png">
</head>
<body class="home">
<div class="container">
    <h1 id="top">cdnupload</h1>
    <div class="tagline">Caching is better with hashing</div>

    <h2 class="subtitle">Keep your website fast and your deploys snappy</h2>

    <div class="row">
        <div class="one-half column" id="blurb">
            <p><span class="cdnupload">cdnupload</span> uploads your website’s static files to a CDN with a content-based hash in the filename, giving great caching while avoiding versioning issues.</p>

            <ul>
                <li>Fast and simple to integrate</li>
                <li>Helps you follow web best practices: <a href="#cdn">use a CDN</a>, good Cache-Control headers, versioned filenames</li>
                <li>Works with web apps written in any language</li>
                <li>Written in Python (runs on Python 2 and 3)</li>
            </ul>

            <p>The tool helps you follow performance best practices by including a content-based hash in each asset filename.</p>

            <p>Deploying is really fast too: only files that have actually changed will be uploaded (with a new hash).</p>

            <p>cdnupload is free for fully open source websites, and two commercial license options are available with support plans. <a href="#pricing">See licenses and pricing.</a></p>
        </div>
        <div class="one-half column" id="usage">
            <h3>Trivial to install</h3>
<pre>$ pip install cdnupload</pre>

            <h3>Simple to use</h3>
<pre>$ cdnupload /site/statics s3://statics-bucket
            --key-map=statics.json
<span class="output">uploading script.js to script_8f3283c6342816f7.js
uploading style.css to style_abcdef0123456789.css
writing key map JSON to statics.json</span></pre>

            <h3>Easy to integrate (in most languages)</h3>
<pre>import json, settings

def init_server():
    with open('statics.json') as f:
        settings.statics = json.load(f)

def static_url(rel_path):
    return '//mycdn.com' + settings.statics[rel_path]</pre>
        </div>
    </div>

    <h2 id="start">Getting started</h2>
    <p>To get stuck straight in, choose a license below, then <a href="https://pypi.python.org/pypi/cdnupload">install cdnupload from PyPI</a> using <code>pip</code>. You’ll need to do two basic things:</p>

    <div class="row">
        <div class="one-half column">
            <p><b>Integrate cdnupload with your web server.</b> This is so that it knows how to output static URLs with the correct content hashes in asset filenames. For example, you might call the <code>static_url</code> function shown above in your HTML templates like this (Jinja2 example):</p>

<pre>&lt;link rel="stylesheet"
      href="{{ 'style.css'|static_url }}"&gt;</pre>

            <p>This will output a link to the stylesheet with the current content hash in the filename, eg: <code>style_abcdef0123456789.css</code>.</p>
            <p>If you have asset URLs in your CSS, for example for background images, use a tool like PostCSS to generate those.</p>
        </div>
        <div class="one-half column">
            <p><b>Add the upload step to your deployment process.</b> This makes the static files available to users immediately whent the deployment is live. Use the cdnupload command line to control what files are uploaded and where they go (a directory for serving via nginx or Apache, or Amazon S3). This can be as simple as:</p>

<pre>cdnupload /site/statics s3://statics-bucket</pre>

            <p>Generally you’ll want a CDN in front of the file or S3 origin server, but this is not a requirement.</p>

            <p>There are a lot of customization options available for more advanced scenarios &mdash; see documentation for more info.</p>
        </div>
    </div>
    <p style="text-align: center;"><a href="TODO"><button>Read the full documentation</button></a></p>

    <h2 id="cdn">Why should I use a CDN?</h2>
    <div class="row">
        <p>CDN stands for Content Delivery Network (one of those super-generic names, like Content Management System), which is a service that serves your static files -- but heavily cached, on servers around the world that are close to your users.</p>

        <p>So if someone from New Jersey requests <code>https://mycdn.com/style.css</code>, the CDN will almost certainly have a cached version in an East Coast or even a local New Jersey data center, and will serve that up to the user faster than you can say “HTTP/2”.</p>

        <p>If the CDN doesn’t have a cached version of the file, it will in turn request it from the origin server (where the files are hosted). If you’re using something like Amazon S3 as your origin server, that request will be quick too, and user will still get the file in good time. From then on, the CDN will serve the cached version.</p>

        <p>Because the files are heavily cached (ideally with long expiry ties), you need to include version numbers in the filenames. cdnupload does this by appending to the filename a 16-character hash based on the file’s contents. For example, <code>style.css</code> might become <code>style_abcdef0123456789.css</code>, and then <code>style_a0b1c2d3e4f56789.css</code> in the next revision.</p>

        <p>So you should use a CDN if your site gets a good amount of traffic, and you need good performance from various locations around the world. You probably <i>don’t</i> need to use a CDN if you have a small personal site and aren’t too concerned with global performance.</p>

        <p>Using the <a href="https://aws.amazon.com/cloudfront/">Amazon CloudFront</a> CDN together with <a href="https://aws.amazon.com/s3/">Amazon S3</a> as an origin server is a great place to start&nbsp;&mdash; like other AWS products, you only pay for the bytes you use, and there’s no montly fee.</p>
    </div>

    <div class="row">
        <h2>Contributing</h2>
        <p>TODO: brief overview and link to CONTRIBUTING.md</p>
    </div>

    <div class="row">
        <h2 id="licensing">Multi-licensing</h2>
        <p>TODO: example the multi-license model. 
    </div>

    <div class="row pricing" id="pricing">
        <div class="one-third column price-tier">
            <div class="price-info">
                <h3>Open source website</h3>
                <p class="price">Free</p>
                <a href="https://github.com/benhoyt/cdnupload"><button>GitHub</button>
                <p class="learn-more"><a href="">Documentation</a></p>
            </div>
            <ul>
                <li>For open source web apps</li>
                <li>Community support</li>
                <li>Get it for free, give back freely</li>
                <li>AGPL license</li>
            </ul>
        </div>

        <div class="one-third column price-tier">
            <h3>Single website</h3>
            <div class="price-info">
                <p class="price">$65</p>
                <a href="https://plasso.com/s/BvLUWX7R2v?preselect=15459"><button class="button-primary">Buy now</button></a>
                <p class="learn-more"><a href="/single">Learn more</a></p>
            </div>
            <ul>
                <li>For a single website (including subdomains)</li>
                <li>Great for startups</li>
                <li>3 months of email support</li>
                <li>Perpetual license</li>
            </ul>
        </div>

        <div class="one-third column price-tier">
            <h3>Multi-website</h3>
            <div class="price-info">
                <p class="price">$295</p>
                <a href="https://plasso.com/s/BvLUWX7R2v?preselect=15460"><button class="button-primary">Buy now</button></a>
                <p class="learn-more"><a href="/multi">Learn more</a></p>
            </div>
            <ul>
                <li>For up to 10 websites</li>
                <li>6 months of email support</li>
                <li>3 hours of custom development</li>
                <li>Perpetual license</li>
            </ul>
        </div>
    </div>

    <footer>
        <a href="/"><div class="logo"></div></a>
        <span class="copyright">cdnupload &copy; 2017</span>
        <span class="links"><a href="mailto:info@cdnupload.com">info@cdnupload.com</a></span>
    </footer>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-93633207-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
